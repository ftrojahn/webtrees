(function(){var a=function(l){if(l.window){var h=l.document;new CKEDITOR.dom.element(h.getWindow().$.frameElement);var f=h.getBody(),k=h.getDocumentElement(),i=l.window.getViewPaneSize().height,h="BackCompat"==h.$.compatMode?f:k,f=h.getStyle("overflow-y"),j=h.getDocument(),k=CKEDITOR.dom.element.createFromHtml('<span style="margin:0;padding:0;border:0;clear:both;width:1px;height:1px;display:block;">'+(CKEDITOR.env.webkit?"&nbsp;":"")+"</span>",j);j[CKEDITOR.env.ie?"getBody":"getDocumentElement"]().append(k);j=k.getDocumentPosition(j).y+k.$.offsetHeight;k.remove();h.setStyle("overflow-y",f);f=j+(l.config.autoGrow_bottomSpace||0);k=l.config.autoGrow_maxHeight||Infinity;f=Math.max(f,void 0!=l.config.autoGrow_minHeight?l.config.autoGrow_minHeight:200);f=Math.min(f,k);f!=i&&(f=l.fire("autoGrow",{currentHeight:i,newHeight:f}).newHeight,l.resize(l.container.getStyle("width"),f,!0));h.$.scrollHeight>h.$.clientHeight&&f<k?h.setStyle("overflow-y","hidden"):h.removeStyle("overflow-y")}};CKEDITOR.plugins.add("autogrow",{init:function(f){f.addCommand("autogrow",{exec:a,modes:{wysiwyg:1},readOnly:1,canUndo:!1,editorFocus:!1});var e={contentDom:1,key:1,selectionChange:1,insertElement:1,mode:1};f.config.autoGrow_onStartup&&(e.instanceReady=1);for(var d in e){f.on(d,function(g){var c=f.getCommand("maximize");"wysiwyg"==g.editor.mode&&(!c||c.state!=CKEDITOR.TRISTATE_ON)&&setTimeout(function(){a(g.editor);a(g.editor)},100)})}}})})();