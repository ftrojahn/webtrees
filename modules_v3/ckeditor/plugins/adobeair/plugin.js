(function(){function a(f){f=f.getElementsByTag("*");for(var h=f.count(),e,g=0;g<h;g++){e=f.getItem(g),function(d){for(var c=0;c<b.length;c++){(function(i){var j=d.getAttribute("on"+i);d.hasAttribute("on"+i)&&(d.removeAttribute("on"+i),d.on(i,function(l){var s=/(return\s*)?CKEDITOR\.tools\.callFunction\(([^)]+)\)/.exec(j),m=s&&s[1],r=s&&s[2].split(","),s=/return false;/.test(j);if(r){for(var p=r.length,q,o=0;o<p;o++){r[o]=q=CKEDITOR.tools.trim(r[o]);var n=q.match(/^(["'])([^"']*?)\1$/);if(n){r[o]=n[2]}else{if(q.match(/\d+/)){r[o]=parseInt(q,10)}else{switch(q){case"this":r[o]=d.$;break;case"event":r[o]=l.data.$;break;case"null":r[o]=null}}}}r=CKEDITOR.tools.callFunction.apply(window,r);m&&!1===r&&(s=1)}s&&l.data.preventDefault()}))})(b[c])}}(e)}}var b="click keydown mousedown keypress mouseover mouseout".split(" ");CKEDITOR.plugins.add("adobeair",{init:function(c){CKEDITOR.env.air&&(c.addCss("body { padding: 8px }"),c.on("uiReady",function(){a(c.container);if(c.sharedSpaces){for(var d in c.sharedSpaces){a(c.sharedSpaces[d])}}c.on("elementsPathUpdate",function(e){a(e.data.space)})}),c.on("contentDom",function(){c.document.on("click",function(d){d.data.preventDefault(!0)})}))}});CKEDITOR.ui.on("ready",function(e){e=e.data;if(e._.panel){var f=e._.panel._.panel,d;(function(){f.isLoaded?(d=f._.holder,a(d)):setTimeout(arguments.callee,30)})()}else{e instanceof CKEDITOR.dialog&&a(e._.element)}})})();CKEDITOR.dom.document.prototype.write=CKEDITOR.tools.override(CKEDITOR.dom.document.prototype.write,function(a){function b(f,h,e,g){h=f.append(h);(e=CKEDITOR.htmlParser.fragment.fromHtml(e).children[0].attributes)&&h.setAttributes(e);g&&h.append(f.getDocument().createText(g))}return function(f,h){if(this.getBody()){var e=this,g=this.getHead();f=f.replace(/(<style[^>]*>)([\s\S]*?)<\/style>/gi,function(i,d,j){b(g,"style",d,j);return""});f=f.replace(/<base\b[^>]*\/>/i,function(c){b(g,"base",c);return""});f=f.replace(/<title>([\s\S]*)<\/title>/i,function(c,i){e.$.title=i;return""});f=f.replace(/<head>([\s\S]*)<\/head>/i,function(d){var i=new CKEDITOR.dom.element("div",e);i.setHtml(d);i.moveChildren(g);return""});f.replace(/(<body[^>]*>)([\s\S]*)(?=$|<\/body>)/i,function(i,k,j){e.getBody().setHtml(j);(i=CKEDITOR.htmlParser.fragment.fromHtml(k).children[0].attributes)&&e.getBody().setAttributes(i)})}else{a.apply(this,arguments)}}});